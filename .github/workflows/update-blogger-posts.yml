name: DEBUG REAL - What's in the response?
on: workflow_dispatch

jobs:
  debug-real:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: See ACTUAL API response
      run: |
        echo "🔍 VIENDO LA RESPUESTA REAL DE LA API..."
        
        URL="https://www.googleapis.com/blogger/v3/blogs/$BLOG_ID/posts?key=$API_KEY&maxResults=5"
        curl -s "$URL" > real_response.json
        
        echo "=== ESTRUCTURA COMPLETA ==="
        jq '.' real_response.json
        
        echo "=== ¿QUÉ CAMPOS TIENE? ==="
        jq 'keys' real_response.json
        
        echo "=== ¿ITEMS? ==="
        jq '.items' real_response.json
        
        echo "=== PRIMER ITEM COMPLETO ==="
        jq '.items[0]' real_response.json
        
      env:
        API_KEY: ${{ secrets.BLOGGER_API_KEY }}
        BLOG_ID: ${{ vars.BLOGGER_BLOG_ID }}
